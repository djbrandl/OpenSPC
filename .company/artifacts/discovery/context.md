# Discovery Context

## Original Goal
OpenSPC - Event-Driven Statistical Process Control System

A web-based SPC tool for hybrid manufacturing environments that:
- Ingests data from MQTT/Sparkplug B (automated tags) and manual entry (web UI)
- Implements Nelson Rules for process control analysis
- Provides real-time violation detection and alerting
- Supports ISA-95 hierarchy for enterprise organization

## Task Classification
- **Type**: New Feature (complete application from scratch)
- **Scope**: Comprehensive (full solution with all components)
- **Constraints**:
  - Follow specification exactly
  - Tech stack flexible within spec parameters

## Success Criteria
- **Verification Method**: Both automated tests and manual verification
- **Priority**: Backend + SPC Engine first, then frontend

## Technical Scope (from Specification)
1. **Backend**: Python/FastAPI with LiteLLM integration
2. **Database**: SQLite with ISA-95 hierarchy
3. **Messaging**: MQTT/Sparkplug B for UNS integration
4. **Frontend**: React or Vue dashboard
5. **SPC Engine**: All 8 Nelson Rules implementation

## Key Components
- Provider abstraction (Tag vs Manual data sources)
- Statistical engine with rolling window analysis
- Violation detection and workflow management
- Real-time dashboard with control charts

## Routing Decision
Based on discovery:
- Task Type (New Feature) + Scope (Comprehensive) + Cross-cutting integration â†’ **Full PM Mode**
- Rationale: This is a complete new application with multiple subsystems (backend, frontend, MQTT, database) requiring coordinated development phases

---
*Generated by discovery phase*
