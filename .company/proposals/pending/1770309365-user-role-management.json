{
  "proposal_type": "scope_change",
  "from_role": "ceo",
  "timestamp": "2026-02-06T12:00:00Z",
  "requires_ceo_approval": false,
  "category": "major_feature",
  "title": "Users and Role Management System",
  "current_scope": "Roles are hardcoded client-side with a dev role switcher. No authentication backend. No user database.",
  "proposed_change": "Implement full user and role management system with plant assignment, role assignment, configurable page permissions, and connectivity configuration access control.",
  "reason": "Enterprise deployments require proper user authentication, authorization, and administration capabilities. Must support Active Directory integration for enterprise SSO. Critical dependency for industrial connectivity features - controls who can configure MQTT brokers, OPC-UA servers, and data publishing.",

  "requirements": [
    "User management CRUD (create, read, update, delete users)",
    "Assign users to one or many plants",
    "Assign users to roles (per-plant or global)",
    "Role management (create custom roles with granular permissions)",
    "Configure page/feature visibility per role",
    "Connectivity permissions: who can configure brokers, browse tags, create characteristics from tags, configure publishing",
    "Admin UI for user and role management",
    "Active Directory / LDAP integration option",
    "Assign AD groups to roles (if AD integration enabled)",
    "Session management and JWT-based authentication",
    "Audit logging for user actions (who changed what, when)"
  ],

  "permission_model": {
    "description": "Role-based access control with granular permissions",
    "permission_categories": {
      "dashboard": ["view_dashboard", "configure_dashboard_layout"],
      "configuration": ["view_characteristics", "create_characteristics", "edit_characteristics", "delete_characteristics"],
      "connectivity": ["view_brokers", "manage_brokers", "browse_tags", "create_from_tags", "configure_publishing"],
      "data_entry": ["enter_measurements", "exclude_samples", "acknowledge_violations"],
      "reporting": ["view_reports", "export_data"],
      "administration": ["manage_users", "manage_roles", "manage_plants", "view_audit_log"]
    },
    "default_roles": [
      {"name": "Administrator", "description": "Full access to all features"},
      {"name": "Engineer", "description": "Configure characteristics, manage connectivity, view reports"},
      {"name": "Operator", "description": "Enter measurements, acknowledge violations, view dashboard"},
      {"name": "Viewer", "description": "Read-only access to dashboard and reports"}
    ]
  },

  "impact": {
    "timeline": "Large - requires authentication backend, user database, admin UI, permission middleware",
    "resources": "Backend (auth system, JWT, LDAP) + Frontend (admin pages, permission guards) + DevOps (AD integration)",
    "quality": "Critical for enterprise security, multi-user deployment, and gating connectivity features"
  },

  "dependencies": [
    "Role system foundation (completed in enterprise-ui-overhaul)",
    "Plant selector (completed)",
    "ProtectedRoute component (completed)",
    "API key model (exists - can extend for user auth)"
  ],

  "related_proposals": [
    "1738800000-industrial-connectivity-platform.json (connectivity permissions depend on role system)"
  ],

  "suggested_phase": "phase-user-management",
  "status": "pending_review"
}
