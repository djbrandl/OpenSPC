{
  "proposal_type": "scope_change",
  "proposal_id": "1738700000-chart-types",
  "from_role": "ceo",
  "timestamp": "2025-02-04T20:00:00Z",
  "requires_ceo_approval": true,
  "title": "Expand SPC Chart Type Support",

  "current_scope": {
    "description": "Currently implemented chart types",
    "charts": [
      "X-Bar Chart (with variable limits, standardized mode)",
      "Histogram / Distribution",
      "Process Capability metrics (Cp, Cpk, Pp, Ppk)"
    ]
  },

  "proposed_change": {
    "description": "Add comprehensive SPC chart library",
    "charts_to_add": [
      {
        "name": "XBar-Range",
        "category": "variable_data",
        "description": "X-bar chart with companion Range chart for subgroup variation",
        "complexity": "low",
        "notes": "Extend current X-bar with synchronized R chart below"
      },
      {
        "name": "XBar-S",
        "category": "variable_data",
        "description": "X-bar chart with companion Standard Deviation chart",
        "complexity": "low",
        "notes": "Alternative to XBar-R for larger subgroups (n>10)"
      },
      {
        "name": "Individual (I-MR)",
        "category": "variable_data",
        "description": "Individual values with Moving Range chart",
        "complexity": "medium",
        "notes": "For processes where subgrouping isn't possible (n=1)"
      },
      {
        "name": "Pareto",
        "category": "analysis",
        "description": "Sorted bar chart with cumulative percentage line",
        "complexity": "medium",
        "notes": "For defect/issue prioritization (80/20 rule)"
      },
      {
        "name": "p Chart",
        "category": "attribute",
        "description": "Proportion defective chart",
        "complexity": "medium",
        "notes": "For pass/fail data with variable sample sizes"
      },
      {
        "name": "np Chart",
        "category": "attribute",
        "description": "Number defective chart",
        "complexity": "medium",
        "notes": "For pass/fail data with constant sample size"
      },
      {
        "name": "c Chart",
        "category": "attribute",
        "description": "Count of defects per unit",
        "complexity": "medium",
        "notes": "For defect counts with constant inspection area"
      },
      {
        "name": "u Chart",
        "category": "attribute",
        "description": "Defects per unit with variable area",
        "complexity": "medium",
        "notes": "For defect counts with variable inspection area"
      },
      {
        "name": "Box and Whisker",
        "category": "analysis",
        "description": "Quartile visualization with outlier detection",
        "complexity": "medium",
        "notes": "For distribution comparison across groups/time periods"
      }
    ],
    "already_implemented": [
      "Histogram",
      "Process Capability (Cp, Cpk)",
      "Process Performance (Pp, Ppk)"
    ]
  },

  "reason": "Comprehensive SPC tooling requires support for both variable and attribute data charts. Current implementation only handles variable data. Manufacturing environments need attribute charts (p, np, c, u) for defect tracking and analysis charts (Pareto, Box-Whisker) for root cause analysis.",

  "impact": {
    "timeline": "Significant - adds 8 new chart types requiring backend and frontend work",
    "resources": "Backend: new calculation engines for attribute charts. Frontend: new chart components and selection UI",
    "quality": "Improves - provides industry-standard SPC chart coverage",
    "architecture": {
      "backend_changes": [
        "Add attribute data model (pass/fail counts, defect counts)",
        "Add control limit calculations for p, np, c, u charts",
        "Add Moving Range calculation for I-MR charts",
        "Add Range/Std Dev calculations for companion charts"
      ],
      "frontend_changes": [
        "Create chart type selector per characteristic",
        "Create dual-chart layout component (X-bar/Range, X-bar/S, I-MR)",
        "Create Pareto chart component",
        "Create Box-Whisker chart component",
        "Create attribute chart components (p, np, c, u)"
      ],
      "database_changes": [
        "Add chart_type field to characteristics",
        "Add attribute data storage (defective_count, sample_size, defect_count, inspection_units)"
      ]
    }
  },

  "implementation_phases": [
    {
      "phase": 1,
      "name": "Variable Data Extensions",
      "charts": ["XBar-Range", "XBar-S", "Individual (I-MR)"],
      "rationale": "Builds on existing X-bar infrastructure"
    },
    {
      "phase": 2,
      "name": "Analysis Charts",
      "charts": ["Pareto", "Box and Whisker"],
      "rationale": "Standalone components, no backend data model changes"
    },
    {
      "phase": 3,
      "name": "Attribute Charts",
      "charts": ["p chart", "np chart", "c chart", "u chart"],
      "rationale": "Requires new data model for attribute data"
    }
  ],

  "status": "pending_ceo_approval"
}
